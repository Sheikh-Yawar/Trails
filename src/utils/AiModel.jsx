import { GoogleGenerativeAI } from "@google/generative-ai";

const genAI = new GoogleGenerativeAI(import.meta.env.VITE_GEMINI_API_KEY);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 20000,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: 'Generate a 3-day travel itinerary for 4 people visiting Dubai on a Luxury Budget. All prices must be in INR, accurately converted from the local currency of the destination using the most recent exchange rates. Prices must be formatted correctly.  \n\n### üü¢ User-Specified Customization  \nThe generated itinerary **must strictly follow the user\'s prompt**, tailoring the trip experience exactly as they have described. Any preferences, themes, activities, or special requests mentioned by the user must be **fully incorporated** while maintaining the structure outlined below.  \n\n‚ùó The user-provided prompt must dictate:  \n‚úî The type of experience (e.g., adventure, relaxation, cultural, etc.)  \n‚úî Specific locations or activities they prefer  \n‚úî Dietary preferences for food places  \n‚úî Any other unique requests  \n\nIf the user‚Äôs prompt conflicts with default logic, **always prioritize the user\'s request** without modifying the JSON format.\n\n### User Prompt:\nThe trip should focus on exploring niche places in Dubai which are not tourist crowded but are must visit. My Kids are also coming with me please consider some good spots for them  as well\n\n## ‚ö†Ô∏è CRITICAL STRUCTURE REQUIREMENTS  \n\n‚ùå **DO NOT include** arrival or departure details (e.g., flights, train schedules, check-in/check-out times).  \n‚úÖ **Each day MUST include at least 4 or more places to visit.** No empty or lightly planned days.  \n‚úÖ **All days must be fully packed** with a well-organized schedule.  \n\n---\n\n## üî¥ **ACCURATE CURRENCY CONVERSION REQUIREMENT**  \n\nüîπ **All monetary values (hotel prices, food costs, entry fees, etc.) must be converted accurately** from the local currency of the destination to the user-requested currency.  \nüîπ **Use the most recent exchange rates** for precise conversion.  \nüîπ **Format prices properly** (integers only, no decimals unless necessary).  \nüîπ **Maintain consistency**‚Äîevery price across the itinerary should reflect the converted value.  \n\nFor example:  \n- If the user is traveling to Dubai and requests prices in INR, all costs originally in AED (Dirham) must be converted accurately to INR.  \n- If the user is traveling to Japan and requests prices in USD, all costs originally in JPY (Yen) must be converted accurately to USD.  \n\nüí° **Ensure real-world accuracy in pricing to prevent unrealistic cost estimates.**  \n\n### **üè® Hotel Options (Minimum 5)**  \nEach hotel must include:  \n\n- `hotelName` (string) ‚Äì Full name of the hotel  \n- `hotelAddress` (string) ‚Äì **Complete and precise address, including street name, city, and postal code**  \n- `pricePerNight` (object with "fromPrice", "toPrice" as integers in **INR** & "currencySymbol" as string, **converted from the local currency**)  \n- `rating` (float, out of 5) ‚Äì **Must be accurate based on real-world data**  \n- `description` (string) ‚Äì Brief summary of the hotel‚Äôs amenities and features  \n\n### **Daily Itinerary (3 Days, Fully Packed)**  \nFor each of the **3 days**, provide a structured itinerary:\n\n- `dayNumber` (integer, e.g., 1, 2, 3)  \n- `dayTheme` (string, e.g., "Nature & Heritage", "Food & Culture")  \n- `placesToVisit` (array of **at least 4 locations** per day):  \n    - `placeName` (string) ‚Äì Full and accurate name  \n    - `description` (string) ‚Äì **Highly detailed summary** (historical significance, architecture, unique experiences, cultural importance, must-try activities)  \n    - `placeAddress` (string) ‚Äì **Complete and precise address, including street name, city, and postal code**  \n    - `bestTimeToVisit` (Array of string) ‚Äì **Actual best time to visit, not based on order in the list (e.g., ["8 AM - 10 AM", "4 PM - 6 PM"])**  \n\n‚úÖ **Optimal ordering of visits** to ensure a balanced and logical travel experience.  \n‚úÖ **No empty or underfilled schedules**‚Äîeach day must be fully planned.  \n\n### **üçΩÔ∏è Recommended Food Places (Minimum 3 Per Day)**  \nEach day should feature at least **three food places**:  \n\n- `foodPlaceName` (string) ‚Äì Name of the restaurant/street food stall  \n- `description` (string) ‚Äì **Highly detailed overview** (specialties, ambiance, must-try dishes)  \n- `rating` (float, out of 5) ‚Äì **Must be accurate based on real-world data**  \n- `approximatePricePerPerson` (object with "fromPrice" and "toPrice" as integers in **INR**, converted from local currency & "currencySymbol" as string, formatted correctly)  \n- `foodPlaceAddress` (string) ‚Äì **Complete and precise address, including street name, city, and postal code**  \n\n## **üîµ STRICT JSON OUTPUT FORMAT**  \n\nThe response **must** strictly follow this structure:  \n\n```\n{\n    "hotelOptions": [\n        {\n            "hotelName": "",\n            "hotelAddress": "",\n            "pricePerNight": {\n                "fromPrice": 0,\n                "toPrice": 0,\n                "currencySymbol": ""\n            },\n            "rating": 0.0,\n            "description": ""\n        }\n    ],\n    "itinerary": [\n        {\n            "dayNumber": 1,\n            "dayTheme": "",\n            "placesToVisit": [\n                {\n                    "placeName": "",\n                    "description": "",\n                    "placeAddress": "",\n                    "bestTimeToVisit": [""],\n                }\n            ],\n            "foodPlaces": [\n                {\n                    "foodPlaceName": "",\n                    "approximatePricePerPerson":  {\n                        "fromPrice": 0,\n                        "toPrice": 0,\n                        "currencySymbol": ""\n                    },\n                    "rating": 0.0,\n                    "description": "",\n                    "foodPlaceAddress": ""\n                }\n            ]\n        }\n    ]\n}\n```\n\nüö® CRITICAL REQUIREMENTS (STRICTLY ENFORCED)\n‚úî STRICT JSON COMPLIANCE ‚Äì Every key must be present.\n‚úî NO EXTRA KEYS ‚Äì The structure must not contain additional fields.\n‚úî NO NULL OR EMPTY VALUES ‚Äì All fields must have valid values.\n‚úî PRICES MUST BE ACCURATELY CONVERTED ‚Äì Ensure proper exchange rate application & correct currency symbol.\n‚úî FULL & ACCURATE ADDRESSES ‚Äì All hotels, locations, and food places must have a complete, precise address (street name, city, and postal code). No missing details.\n‚úî NO ARRIVAL OR DEPARTURE DETAILS ‚Äì Flights, check-in, check-out, and transit details are NOT included.\n‚úî EACH DAY MUST HAVE 4+ PLACES ‚Äì No half-filled or empty days. The schedule must be packed.\n‚úî CONSISTENT JSON FORMAT ‚Äì The response must be correctly structured for easy parsing.\n‚úî ACCURATE bestTimeToVisit VALUES ‚Äì Reflect real-world recommendations, not list order.\n‚úî REALISTIC PRICES & RATINGS ‚Äì No random placeholders‚Äîratings and pricing must be fact-based.\n\nüî• PRIORITIZATION OF USER PROMPT\nIf the user provides additional details (e.g., specific experiences, dietary preferences, or activities), the response must fully incorporate them while adhering to the strict JSON format. The itinerary should feel personalized, not generic‚Äîensuring that the user‚Äôs preferences are reflected in every aspect of the trip.\n\nüöÄ MOST IMPORTANTLY: Ensure all prices are CONVERTED ACCURATELY using the latest exchange rates!',
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n    "hotelOptions": [\n        {\n            "hotelName": "Burj Al Arab Jumeirah",\n            "hotelAddress": "Jumeirah St - Umm Suqeim 3 - Dubai - United Arab Emirates",\n            "pricePerNight": {\n                "fromPrice": 170000,\n                "toPrice": 250000,\n                "currencySymbol": "INR"\n            },\n            "rating": 4.8,\n            "description": "One of the most iconic hotels in Dubai, offering luxurious suites, multiple fine-dining restaurants, a private beach, and stunning views of the Arabian Gulf."\n        },\n        {\n            "hotelName": "Four Seasons Resort Dubai at Jumeirah Beach",\n            "hotelAddress": "Jumeirah Beach Road, Jumeirah 2, Dubai, United Arab Emirates",\n            "pricePerNight": {\n                "fromPrice": 60000,\n                "toPrice": 90000,\n                "currencySymbol": "INR"\n            },\n            "rating": 4.7,\n            "description": "A luxury beachfront resort featuring spacious rooms and suites, several swimming pools, a private beach, and exceptional dining experiences."\n        },\n        {\n            "hotelName": "The Ritz-Carlton, Dubai",\n            "hotelAddress": "The Walk Jumeirah Beach Residence - Dubai - United Arab Emirates",\n            "pricePerNight": {\n                "fromPrice": 50000,\n                "toPrice": 80000,\n                "currencySymbol": "INR"\n            },\n            "rating": 4.6,\n            "description": "Located on Jumeirah Beach, this hotel offers luxurious accommodations, multiple restaurants and bars, a spa, and a variety of recreational activities."\n        },\n        {\n            "hotelName": "One&Only The Palm",\n            "hotelAddress": "West Crescent, Palm - Jumeirah - Dubai - United Arab Emirates",\n            "pricePerNight": {\n                "fromPrice": 80000,\n                "toPrice": 120000,\n                "currencySymbol": "INR"\n            },\n            "rating": 4.7,\n            "description": "An exclusive beachfront resort on the Palm Jumeirah, offering elegant villas, a private beach, a spa, and gourmet dining options."\n        },\n        {\n            "hotelName": "Jumeirah Al Qasr",\n            "hotelAddress": "Jumeirah Beach Road, Madinat Jumeirah - Dubai - United Arab Emirates",\n            "pricePerNight": {\n                "fromPrice": 45000,\n                "toPrice": 75000,\n                "currencySymbol": "INR"\n            },\n            "rating": 4.5,\n            "description": "A palatial resort within Madinat Jumeirah, featuring luxurious rooms and suites, a private beach, numerous restaurants and bars, and access to the resort\'s many facilities."\n        }\n    ],\n    "itinerary": [\n        {\n            "dayNumber": 1,\n            "dayTheme": "Art, Coffee, and Culture",\n            "placesToVisit": [\n                {\n                    "placeName": "Alserkal Avenue",\n                    "description": "A vibrant industrial area transformed into a cultural district, housing contemporary art galleries, concept stores, and creative spaces. Explore cutting-edge art, attend workshops, and discover unique designs. It provides a refreshing alternative to Dubai\'s more conventional attractions. This is a great place to introduce art to your kids and have them engage in something creative.",\n                    "placeAddress": "Street 8, Al Quoz 1, Dubai, United Arab Emirates",\n                    "bestTimeToVisit": [\n                        "10 AM - 12 PM",\n                        "4 PM - 7 PM"\n                    ]\n                },\n                {\n                    "placeName": "Coffee Museum",\n                    "description": "Located in the Al Fahidi Historical Neighbourhood, this museum showcases the history of coffee, coffee culture, and the working conditions of coffee plantation workers. Entry is free. The museum is housed in a traditional Emirati home with low ceilings and narrow walkways. The first floor features a literary section with a wide selection of coffee books and maps dating back to the 18th century about the global history of coffee and coffee plantation workers. This place offers a unique glimpse into Dubai\'s cultural side and is a must visit.",\n                    "placeAddress": "Historical Neighborhood, Bastakiya, Villa 44 - Al Hisn St - Al Fahidi - Dubai - United Arab Emirates",\n                    "bestTimeToVisit": [\n                        "9 AM - 11 AM",\n                        "2 PM - 4 PM"\n                    ]\n                },\n                {\n                    "placeName": "XVA Gallery",\n                    "description": "Tucked away in Al Fahidi Historical Neighbourhood, the XVA Gallery specializes in contemporary art from the Arab world, Iran, and India. The gallery also features a caf√© offering regionally inspired vegetarian options, perfect for a light lunch. It also holds traditional and cultural artworks that are kept on display for tourists here. Individuals can also conduct art exhibitions of their own at the XVA Art Gallery here while leasing or renting the hall for their displays. The gallery‚Äôs unique setting within a traditional Arabian house adds to its charm and appeal.",\n                    "placeAddress": "Al Fahidi St, Near Dubai Museum, Al Fahidi Historical District - Dubai",\n                    "bestTimeToVisit": [\n                        "10 AM - 12 PM",\n                        "4 PM - 6 PM"\n                    ]\n                },\n                {\n                    "placeName": "Al Fahidi Historical Neighbourhood",\n                    "description": "Also known as Bastakiya, this is one of the oldest heritage sites in Dubai. Showcasing the traditional Emirati lifestyle, it offers a glimpse into the city‚Äôs rich past. Explore the narrow lanes, wind towers, and traditional houses, many of which have been converted into museums, art galleries, and cafes. This is a great place to simply walk around, enjoying the architecture and ambiance.",\n                    "placeAddress": "Al Fahidi - Dubai - United Arab Emirates",\n                    "bestTimeToVisit": [\n                        "10 AM - 12 PM",\n                        "4 PM - 6 PM"\n                    ]\n                }\n            ],\n            "foodPlaces": [\n                {\n                    "foodPlaceName": "Wild & The Moon",\n                    "approximatePricePerPerson": {\n                        "fromPrice": 1000,\n                        "toPrice": 2500,\n                        "currencySymbol": "INR"\n                    },\n                    "rating": 4.5,\n                    "description": "Located in Alserkal Avenue, this vegan caf√© offers organic cold-pressed juices, smoothies, salads, and healthy snacks. Great for a nutritious and delicious meal.",\n                    "foodPlaceAddress": "Street 8, Al Quoz, Alserkal Avenue - Dubai - United Arab Emirates"\n                },\n                {\n                    "foodPlaceName": "Arabian Tea House",\n                    "approximatePricePerPerson": {\n                        "fromPrice": 800,\n                        "toPrice": 2000,\n                        "currencySymbol": "INR"\n                    },\n                    "rating": 4.6,\n                    "description": "Located near the Coffee Museum in Al Fahidi, this charming caf√© serves traditional Emirati and Lebanese cuisine in a beautiful courtyard setting. Try the Emirati breakfast or a selection of flavorful teas.",\n                    "foodPlaceAddress": "Al Fahidi St - Bur DubaiAl Fahidi Historical Neighbourhood - Dubai - United Arab Emirates"\n                },\n                {\n                    "foodPlaceName": "XVA Caf√©",\n                    "approximatePricePerPerson": {\n                        "fromPrice": 1200,\n                        "toPrice": 3000,\n                        "currencySymbol": "INR"\n                    },\n                    "rating": 4.4,\n                    "description": "Located within the XVA Gallery, this caf√© offers Middle Eastern-inspired vegetarian dishes in a serene courtyard setting. The mint lemonade is a must-try.",\n                    "foodPlaceAddress": "Al Fahidi St, Near Dubai Museum, Al Fahidi Historical District - Dubai"\n                }\n            ]\n        },\n        {\n            "dayNumber": 2,\n            "dayTheme": "Nature and Family Fun",\n            "placesToVisit": [\n                {\n                    "placeName": "Dubai Miracle Garden",\n                    "description": "A stunning display of over 45 million flowers arranged in intricate designs and structures. This seasonal garden is a visual treat for all ages, featuring themed areas, floral sculptures, and record-breaking installations. The best time to visit is between November and March. There are specially designed floral displays for specific themes and events that can be explored.. The Miracle Garden typically requires 3 to 4 hours to fully explore.",\n                    "placeAddress": "Al Barsha South 3 - Dubai - United Arab Emirates",\n                    "bestTimeToVisit": [\n                        "9 AM - 11 AM",\n                        "4 PM - 6 PM"\n                    ]\n                },\n                {\n                    "placeName": "OliOli",\n                    "description": "An interactive children\'s play museum designed to foster creativity, curiosity, and imagination. With eight galleries and over 40 hands-on exhibits, kids can explore science, technology, engineering, arts, and mathematics (STEAM) concepts in a fun and engaging way. It is a spacious indoor sanctuary where hands-on activities inspire positive play. This place is a relaxed space for good wholesome fun.",\n                    "placeAddress": "62 4 A St - Al Quoz 1 - Dubai - United Arab Emirates",\n                    "bestTimeToVisit": [\n                        "10 AM - 12 PM",\n                        "2 PM - 4 PM"\n                    ]\n                },\n                {\n                    "placeName": "The Green Planet",\n                    "description": "An indoor tropical rainforest ecosystem featuring over 3,000 species of plants and animals. Walk through the biodome and experience the wonders of a rainforest, complete with creatures roaming around and waterfalls running strong. The biodome here is made up of four levels: the Canopy, the Midstory, the Forest Floor and the Flooded Rainforest. Each level discusses the role and the importance every part of a rainforest plays. This is a great place for a family outing.",\n                    "placeAddress": "City Walk - Dubai - United Arab Emirates",\n                    "bestTimeToVisit": [\n                        "10 AM - 12 PM",\n                        "3 PM - 5 PM"\n                    ]\n                },\n                {\n                    "placeName": "Hatta Pools",\n                    "description": "Located in Hatta, these rocks are a thrilling summer retreat for people looking to get away from the city. The weather here is pleasant throughout the year as it is located in an open area. The Hatta Rock Pools are ideal for nature buffs, families, swimmers, and photographers. You can head to the beautiful mountains for a wonderful vacation as there are plenty of unique hotels and cafes along the way.",\n                    "placeAddress": "Hajar Mountains, Hatta, Dubai, United Arab Emirates",\n                    "bestTimeToVisit": [\n                        "9 AM - 11 AM",\n                        "3 PM - 5 PM"\n                    ]\n                }\n            ],\n            "foodPlaces": [\n                {\n                    "foodPlaceName": "Aprons & Hammers",\n                    "approximatePricePerPerson": {\n                        "fromPrice": 2000,\n                        "toPrice": 4000,\n                        "currencySymbol": "INR"\n                    },\n                    "rating": 4.3,\n                    "description": "Located near The Green Planet in City Walk, this seafood restaurant offers a casual dining experience with fresh seafood and a fun atmosphere. Great for families.",\n                    "foodPlaceAddress": "City Walk Phase 2, Al Safa Street, Al Wasl - Dubai - United Arab Emirates"\n                },\n                {\n                    "foodPlaceName": "La Petite Treehouse Cafe",\n                    "approximatePricePerPerson": {\n                        "fromPrice": 800,\n                        "toPrice": 2000,\n                        "currencySymbol": "INR"\n                    },\n                    "rating": 4.2,\n                    "description": "Located within OliOli, this caf√© offers healthy snacks and treats for kids and adults. Perfect for a quick and nutritious bite during your visit.",\n                    "foodPlaceAddress": "Al Quoz 1, Behind Oasis Centre - Dubai - United Arab Emirates"\n                },\n                {\n                    "foodPlaceName": "Puranmal Restaurant",\n                    "approximatePricePerPerson": {\n                        "fromPrice": 700,\n                        "toPrice": 1500,\n                        "currencySymbol": "INR"\n                    },\n                    "rating": 4.0,\n                    "description": "A restaurant close to Miracle Garden. A perfect place for Indian food. A complete vegetarian restaurant for people looking for Indian taste. Serves excellent sweets as well",\n                    "foodPlaceAddress": "Shop no-9, diamond business center - near miracle garden - Dubai - United Arab Emirates"\n                }\n            ]\n        },\n        {\n            "dayNumber": 3,\n            "dayTheme": "Hollywood and Adventure",\n            "placesToVisit": [\n                {\n                    "placeName": "Motiongate Dubai",\n                    "description": "A Hollywood-inspired theme park featuring five zones based on popular movie franchises like DreamWorks Animation, Columbia Pictures, and Lionsgate. Enjoy thrilling rides, immersive attractions, and live entertainment shows. The park\'s impressive theming and attention to detail set it apart from other theme parks. Explore five zones inspired by popular movie franchises, including Sony Pictures Studios, DreamWorks Animation, and Lionsgate.",\n                    "placeAddress": "Dubai Parks and Resorts, along Sheikh Zayed Rd, Dubai, UAE",\n                    "bestTimeToVisit": [\n                        "2 PM - 4 PM",\n                        "6 PM - 8 PM"\n                    ]\n                },\n                {\n                    "placeName": "Hatta Wadi Hub",\n                    "description": "An adventure center offering a variety of outdoor activities such as mountain biking, hiking, kayaking, and more. This is an ideal place to escape the city and enjoy the natural beauty of the Hajar Mountains. There are various slides to pick from, each one unique and exhilarating in its own way. This provides the adrenaline rush is incredible, especially when combined with the stunning views of the Hatta mountain ranges. Hatta Wadi Hub is located near the Hatta Dam",\n                    "placeAddress": "Hatta - Dubai - United Arab Emirates",\n                    "bestTimeToVisit": [\n                        "9 AM - 11 AM",\n                        "3 PM - 5 PM"\n                    ]\n                },\n                {\n                    "placeName": "Hatta Dam",\n                    "description": "A scenic dam surrounded by the Hajar Mountains, offering opportunities for kayaking, paddle boating, and enjoying the tranquil scenery. The turquoise waters are perfect for kayaking and paddleboarding. There\'s a scenic viewpoint where you can take stunning photos. It\'s a popular spot for nature lovers and photographers. Bring your family and enjoy a relaxing day by the water.",\n                    "placeAddress": "Hatta - Dubai - United Arab Emirates",\n                    "bestTimeToVisit": [\n                        "9 AM - 11 AM",\n                        "4 PM - 6 PM"\n                    ]\n                },\n                {\n                    "placeName": "Hatta Heritage Village",\n                    "description": "A reconstructed traditional village showcasing Emirati life from centuries past. Explore the old houses, a fort, and a mosque, and learn about the history and culture of the region. The Hatta Heritage Village is a window into the past. It showcases traditional Emirati life.",\n                    "placeAddress": "Hatta - Dubai - United Arab Emirates",\n                    "bestTimeToVisit": [\n                        "10 AM - 12 PM",\n                        "3 PM - 5 PM"\n                    ]\n                }\n            ],\n            "foodPlaces": [\n                {\n                    "foodPlaceName": "Guy Fieri\'s Kitchen & Bar",\n                    "approximatePricePerPerson": {\n                        "fromPrice": 2500,\n                        "toPrice": 5000,\n                        "currencySymbol": "INR"\n                    },\n                    "rating": 4.4,\n                    "description": "Located in Motiongate Dubai, this restaurant offers American comfort food with a twist. Enjoy burgers, sandwiches, and other hearty dishes in a vibrant setting.",\n                    "foodPlaceAddress": "Motiongate Dubai, Dubai Parks and Resorts, along Sheikh Zayed Rd, Dubai, UAE"\n                },\n                {\n                    "foodPlaceName": "Al Hanoof Restaurant",\n                    "approximatePricePerPerson": {\n                        "fromPrice": 1000,\n                        "toPrice": 2500,\n                        "currencySymbol": "INR"\n                    },\n                    "rating": 4.1,\n                    "description": "Located in Hatta, this restaurant offers traditional Emirati cuisine with dishes like machboos, harees, and balaleet. A great place to experience local flavors.",\n                    "foodPlaceAddress": "Hatta - Dubai - United Arab Emirates"\n                },\n                {\n                    "foodPlaceName": "Hardee\'s",\n                    "approximatePricePerPerson": {\n                        "fromPrice": 500,\n                        "toPrice": 1200,\n                        "currencySymbol": "INR"\n                    },\n                    "rating": 3.9,\n                    "description": "A Restaurant in Motiongate Dubai. One can enjoy a quick bite in the Hollywood-inspired Motiongate Dubai.",\n                    "foodPlaceAddress": "Motiongate Dubai, Dubai Parks and Resorts, along Sheikh Zayed Rd, Dubai, UAE"\n                }\n            ]\n        }\n    ]\n}\n```',
        },
      ],
    },
    {
      role: "user",
      parts: [
        {
          text: 'Generate a 2-day travel itinerary for 6 people visiting Jammu & Kashmir on a  Moderate Budget. All prices must be in USD, accurately converted from the local currency of the destination using the most recent exchange rates. Prices must be formatted correctly.  \n\n### üü¢ User-Specified Customization  \nThe generated itinerary **must strictly follow the user\'s prompt**, tailoring the trip experience exactly as they have described. Any preferences, themes, activities, or special requests mentioned by the user must be **fully incorporated** while maintaining the structure outlined below.  \n\n‚ùó The user-provided prompt must dictate:  \n‚úî The type of experience (e.g., adventure, relaxation, cultural, etc.)  \n‚úî Specific locations or activities they prefer  \n‚úî Dietary preferences for food places  \n‚úî Any other unique requests  \n\nIf the user‚Äôs prompt conflicts with default logic, **always prioritize the user\'s request** without modifying the JSON format.\n\n### User Prompt:\nThe trip should focus on exploring the main main tourist attractions and the food places should be pure veg. My Kids are also coming with me please consider some good playing/fun spots for them  as well\n\n## ‚ö†Ô∏è CRITICAL STRUCTURE REQUIREMENTS  \n\n‚ùå **DO NOT include** arrival or departure details (e.g., flights, train schedules, check-in/check-out times).  \n‚úÖ **Each day MUST include at least 4 or more places to visit.** No empty or lightly planned days.  \n‚úÖ **All days must be fully packed** with a well-organized schedule.  \n\n---\n\n## üî¥ **ACCURATE CURRENCY CONVERSION REQUIREMENT**  \n\nüîπ **All monetary values (hotel prices, food costs, entry fees, etc.) must be converted accurately** from the local currency of the destination to the user-requested currency.  \nüîπ **Use the most recent exchange rates** for precise conversion.  \nüîπ **Format prices properly** (integers only, no decimals unless necessary).  \nüîπ **Maintain consistency**‚Äîevery price across the itinerary should reflect the converted value.  \n\nFor example:  \n- If the user is traveling to Dubai and requests prices in INR, all costs originally in AED (Dirham) must be converted accurately to INR.  \n- If the user is traveling to Japan and requests prices in USD, all costs originally in JPY (Yen) must be converted accurately to USD.  \n\nüí° **Ensure real-world accuracy in pricing to prevent unrealistic cost estimates.**  \n\n### **üè® Hotel Options (Minimum 5)**  \nEach hotel must include:  \n\n- `hotelName` (string) ‚Äì Full name of the hotel  \n- `hotelAddress` (string) ‚Äì **Complete and precise address, including street name, city, and postal code**  \n- `pricePerNight` (object with "fromPrice", "toPrice" as integers in **USD** & "currencySymbol" as string, **converted from the local currency**)  \n- `rating` (float, out of 5) ‚Äì **Must be accurate based on real-world data**  \n- `description` (string) ‚Äì Brief summary of the hotel‚Äôs amenities and features  \n\n### **Daily Itinerary (3 Days, Fully Packed)**  \nFor each of the **3 days**, provide a structured itinerary:\n\n- `dayNumber` (integer, e.g., 1, 2, 3)  \n- `dayTheme` (string, e.g., "Nature & Heritage", "Food & Culture")  \n- `placesToVisit` (array of **at least 4 locations** per day):  \n    - `placeName` (string) ‚Äì Full and accurate name  \n    - `description` (string) ‚Äì **Highly detailed summary** (historical significance, architecture, unique experiences, cultural importance, must-try activities)  \n    - `placeAddress` (string) ‚Äì **Complete and precise address, including street name, city, and postal code**  \n    - `bestTimeToVisit` (Array of string) ‚Äì **Actual best time to visit, not based on order in the list (e.g., ["8 AM - 10 AM", "4 PM - 6 PM"])**  \n\n‚úÖ **Optimal ordering of visits** to ensure a balanced and logical travel experience.  \n‚úÖ **No empty or underfilled schedules**‚Äîeach day must be fully planned.  \n\n### **üçΩÔ∏è Recommended Food Places (Minimum 3 Per Day)**  \nEach day should feature at least **three food places**:  \n\n- `foodPlaceName` (string) ‚Äì Name of the restaurant/street food stall  \n- `description` (string) ‚Äì **Highly detailed overview** (specialties, ambiance, must-try dishes)  \n- `rating` (float, out of 5) ‚Äì **Must be accurate based on real-world data**  \n- `approximatePricePerPerson` (object with "fromPrice" and "toPrice" as integers in **usd**, converted from local currency & "currencySymbol" as string, formatted correctly)  \n- `foodPlaceAddress` (string) ‚Äì **Complete and precise address, including street name, city, and postal code**  \n\n## **üîµ STRICT JSON OUTPUT FORMAT**  \n\nThe response **must** strictly follow this structure:  \n\n```\n{\n    "hotelOptions": [\n        {\n            "hotelName": "",\n            "hotelAddress": "",\n            "pricePerNight": {\n                "fromPrice": 0,\n                "toPrice": 0,\n                "currencySymbol": ""\n            },\n            "rating": 0.0,\n            "description": ""\n        }\n    ],\n    "itinerary": [\n        {\n            "dayNumber": 1,\n            "dayTheme": "",\n            "placesToVisit": [\n                {\n                    "placeName": "",\n                    "description": "",\n                    "placeAddress": "",\n                    "bestTimeToVisit": [""],\n                }\n            ],\n            "foodPlaces": [\n                {\n                    "foodPlaceName": "",\n                    "approximatePricePerPerson":  {\n                        "fromPrice": 0,\n                        "toPrice": 0,\n                        "currencySymbol": ""\n                    },\n                    "rating": 0.0,\n                    "description": "",\n                    "foodPlaceAddress": ""\n                }\n            ]\n        }\n    ]\n}\n```\n\nüö® CRITICAL REQUIREMENTS (STRICTLY ENFORCED)\n‚úî STRICT JSON COMPLIANCE ‚Äì Every key must be present.\n‚úî NO EXTRA KEYS ‚Äì The structure must not contain additional fields.\n‚úî NO NULL OR EMPTY VALUES ‚Äì All fields must have valid values.\n‚úî PRICES MUST BE ACCURATELY CONVERTED ‚Äì Ensure proper exchange rate application & correct currency symbol.\n‚úî FULL & ACCURATE ADDRESSES ‚Äì All hotels, locations, and food places must have a complete, precise address (street name, city, and postal code). No missing details.\n‚úî NO ARRIVAL OR DEPARTURE DETAILS ‚Äì Flights, check-in, check-out, and transit details are NOT included.\n‚úî EACH DAY MUST HAVE 4+ PLACES ‚Äì No half-filled or empty days. The schedule must be packed.\n‚úî CONSISTENT JSON FORMAT ‚Äì The response must be correctly structured for easy parsing.\n‚úî ACCURATE bestTimeToVisit VALUES ‚Äì Reflect real-world recommendations, not list order.\n‚úî REALISTIC PRICES & RATINGS ‚Äì No random placeholders‚Äîratings and pricing must be fact-based.\n\nüî• PRIORITIZATION OF USER PROMPT\nIf the user provides additional details (e.g., specific experiences, dietary preferences, or activities), the response must fully incorporate them while adhering to the strict JSON format. The itinerary should feel personalized, not generic‚Äîensuring that the user‚Äôs preferences are reflected in every aspect of the trip.\n\nüöÄ MOST IMPORTANTLY: Ensure all prices are CONVERTED ACCURATELY using the latest exchange rates!',
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n    "hotelOptions": [\n        {\n            "hotelName": "Hotel New Mamta",\n            "hotelAddress": "Near Dal Lake, Srinagar, Jammu and Kashmir, 190001, India",\n            "pricePerNight": {\n                "fromPrice": 20,\n                "toPrice": 30,\n                "currencySymbol": "USD"\n            },\n            "rating": 3.5,\n            "description": "Located near the famous Dal Lake, Hotel New Mamta offers cozy rooms and a friendly atmosphere. Guests can enjoy beautiful views of the lake and easy access to nearby attractions. The on-site restaurant serves delicious local and Indian cuisine."\n        },\n        {\n            "hotelName": "Hotel Hilltop",\n            "hotelAddress": "Srinagar, Jammu and Kashmir, India",\n            "pricePerNight": {\n                "fromPrice": 25,\n                "toPrice": 35,\n                "currencySymbol": "USD"\n            },\n            "rating": 4.0,\n            "description": "Nestled amidst lush gardens, Hotel Hilltop is an ideal retreat for travelers seeking tranquility. With well-furnished rooms and warm hospitality, it offers a comfortable stay at reasonable prices. Its location near the historic Mughal Gardens makes it a great choice."\n        },\n        {\n            "hotelName": "Luminaire Homestay",\n            "hotelAddress": "Srinagar, Jammu and Kashmir, India",\n            "pricePerNight": {\n                "fromPrice": 15,\n                "toPrice": 25,\n                "currencySymbol": "USD"\n            },\n            "rating": 4.2,\n            "description": "A cozy homestay offering comfortable accommodation with essential amenities. Guests can enjoy a homely atmosphere and personalized service."\n        },\n        {\n            "hotelName": "John\'s Homestay",\n            "hotelAddress": "Srinagar, Jammu and Kashmir, India",\n            "pricePerNight": {\n                "fromPrice": 18,\n                "toPrice": 28,\n                "currencySymbol": "USD"\n            },\n            "rating": 4.5,\n            "description": "Located in Srinagar, John\'s Homestay offers accommodation with mountain views, free WiFi, and free private parking."\n        },\n        {\n            "hotelName": "Hotel Crescent",\n            "hotelAddress": "Srinagar, Jammu and Kashmir, India",\n            "pricePerNight": {\n                "fromPrice": 22,\n                "toPrice": 32,\n                "currencySymbol": "USD"\n            },\n            "rating": 3.8,\n            "description": "A budget-friendly hotel providing comfortable rooms and basic amenities. It is conveniently located near popular tourist spots and offers easy access to the city\'s attractions."\n        }\n    ],\n    "itinerary": [\n        {\n            "dayNumber": 1,\n            "dayTheme": "Srinagar Sightseeing and Dal Lake Experience",\n            "placesToVisit": [\n                {\n                    "placeName": "Dal Lake",\n                    "description": "A jewel of Srinagar, Dal Lake is famous for its shikaras, houseboats, and floating gardens. Enjoy a serene Shikara ride, explore the floating vegetable market, and experience the unique lifestyle on the lake. A Shikara ride typically costs ‚Çπ790 per hour (approximately $10 USD), depending on the duration and route. During the ride, you will be treated to breathtaking views of snow-capped Pir Panjal mountain ranges and witness mesmerizing sunrises and sunsets.",\n                    "placeAddress": "Dal Lake, Srinagar, Jammu and Kashmir, India",\n                    "bestTimeToVisit": [\n                        "9 AM - 11 AM",\n                        "3 PM - 5 PM"\n                    ]\n                },\n                {\n                    "placeName": "Mughal Gardens (Shalimar Bagh, Nishat Bagh, Chashme Shahi)",\n                    "description": "These historic gardens showcase Mughal architecture and landscaping. Shalimar Bagh is known for its terraced lawns, Nishat Bagh offers stunning views of Dal Lake, and Chashme Shahi is famous for its natural spring. The Mughal Gardens in Srinagar comprise of Nishat Bagh, Shalimar Bagh, Chashme Shahi, Pari Mahal, Achabal and Verinag Garden. The entry fee is INR 20 for adults and INR 10 for children (approximately $0.25 USD for adults and $0.13 USD for children). The best time to visit Mughal Gardens is during its annual spring opening, typically from February to April. Flowers and trees bloom in these months and offer the opportunity to admire the vistas.",\n                    "placeAddress": "Srinagar, Jammu and Kashmir, India",\n                    "bestTimeToVisit": [\n                        "10 AM - 12 PM",\n                        "2 PM - 4 PM"\n                    ]\n                },\n                {\n                    "placeName": "Indira Gandhi Memorial Tulip Garden",\n                    "description": "Home to a stunning display of tulips, this garden is a must-visit during the spring season (March-April). The annual Tulip Festival attracts visitors from all over the world. The Indira Gandhi Memorial Tulip Garden in Srinagar is a must-visit during March and April, when over a million tulips bloom in dazzling colors. The annual Tulip Festival attracts visitors from all over the world.",\n                    "placeAddress": "Srinagar, Jammu and Kashmir, India",\n                    "bestTimeToVisit": [\n                        "10 AM - 12 PM",\n                        "2 PM - 4 PM"\n                    ]\n                },\n                {\n                    "placeName": "Bagh-e-Bahu",\n                    "description": "Located on the banks of the Tawi River, this garden offers a serene escape from the city. It\'s a great place for kids to play and enjoy nature.",\n                    "placeAddress": "Gorkha Nagar, Jammu, Jammu and Kashmir 180006",\n                    "bestTimeToVisit": [\n                        "9 AM - 11 AM",\n                        "4 PM - 6 PM"\n                    ]\n                }\n            ],\n            "foodPlaces": [\n                {\n                    "foodPlaceName": "Sattvik Pure Veg Restaurant",\n                    "approximatePricePerPerson": {\n                        "fromPrice": 5,\n                        "toPrice": 10,\n                        "currencySymbol": "USD"\n                    },\n                    "rating": 4.1,\n                    "description": "A pure vegetarian restaurant offering a variety of Indian dishes. Known for its sattvik cuisine, which excludes onion and garlic, making it a popular choice for pilgrims.",\n                    "foodPlaceAddress": "Jammu, Jammu and Kashmir, India"\n                },\n                {\n                    "foodPlaceName": "Madhuban Satvik Restaurant",\n                    "approximatePricePerPerson": {\n                        "fromPrice": 4,\n                        "toPrice": 9,\n                        "currencySymbol": "USD"\n                    },\n                    "rating": 4.2,\n                    "description": "Located near the bus stand in Katra, this restaurant specializes in pure vegetarian food prepared without onion and garlic. Offers a wide variety of options to satisfy various taste preferences.",\n                    "foodPlaceAddress": "Katra, Jammu and Kashmir, India"\n                },\n                {\n                    "foodPlaceName": "Pooja Vaishno Dhaba",\n                    "approximatePricePerPerson": {\n                        "fromPrice": 3,\n                        "toPrice": 7,\n                        "currencySymbol": "USD"\n                    },\n                    "rating": 4.0,\n                    "description": "A small eatery in Katra that specializes in North & South Indian, Gujarati, and Chinese cuisines. Offers a wide range of vegetarian dishes, including mouth-watering options like Aloo Parantha, Veg Manchurian, and Paneer Masala.",\n                    "foodPlaceAddress": "Katra, Jammu and Kashmir, India"\n                }\n            ]\n        },\n        {\n            "dayNumber": 2,\n            "dayTheme": "Gulmarg Excursion",\n            "placesToVisit": [\n                {\n                    "placeName": "Gulmarg Gondola",\n                    "description": "Experience Asia\'s highest and longest cable car ride. The Gondola has two phases: Phase 1 from Gulmarg to Kongdoori and Phase 2 from Kongdoori to Apharwat Peak. Enjoy panoramic views of the snow-capped Himalayas. The Gulmarg Gondola Ride is a thrilling cable car experience in the picturesque town of Gulmarg, nestled in the heart of the Pir Panjal mountain range in Jammu andKashmir. Known for offering breathtaking panoramic views of the snow-capped Himalayas, the Gulmarg Gondola is one of the highest and longest cable car rides in Asia.The fee for phase-1 is Rs. 810 and for phase-2 is Rs 1010 (approximately $10 USD and $12 USD).",\n                    "placeAddress": "Gulmarg, Jammu and Kashmir, India",\n                    "bestTimeToVisit": [\n                        "10 AM - 12 PM",\n                        "2 PM - 4 PM"\n                    ]\n                },\n                {\n                    "placeName": "Gulmarg Golf Course",\n                    "description": "Known as the highest golf course in the world, this is a must-visit for golf enthusiasts. Even if you\'re not a golfer, the scenic beauty is worth experiencing.",\n                    "placeAddress": "Gulmarg, Jammu and Kashmir, India",\n                    "bestTimeToVisit": [\n                        "10 AM - 12 PM",\n                        "2 PM - 4 PM"\n                    ]\n                },\n                {\n                    "placeName": "St. Mary\'s Church",\n                    "description": "A 100-year-old church known for its Victorian architecture and peaceful surroundings. It provides a serene environment for visitors.",\n                    "placeAddress": "Gulmarg, Jammu and Kashmir, India",\n                    "bestTimeToVisit": [\n                        "10 AM - 12 PM",\n                        "2 PM - 4 PM"\n                    ]\n                },\n                 {\n                    "placeName": "Drung Waterfall",\n                    "description": "Drung is famous for its Frozen waterfall during winters. However, it has more to offer than just winter. During summers you can enjoy a fun game of Cricket or simply sit around, enjoying the beauty and calmness surrounding the waterfall.",\n                    "placeAddress": "Tangmarg, Jammu and Kashmir 193402",\n                    "bestTimeToVisit": [\n                        "10 AM - 12 PM",\n                        "2 PM - 4 PM"\n                    ]\n                }\n            ],\n            "foodPlaces": [\n                {\n                    "foodPlaceName": "Bakshi Restaurant",\n                    "approximatePricePerPerson": {\n                        "fromPrice": 6,\n                        "toPrice": 12,\n                        "currencySymbol": "USD"\n                    },\n                    "rating": 4.0,\n                    "description": "A family-friendly restaurant known for its warm ambiance and delicious Kashmiri food. Offers a vegetarian paradise with a variety of options.",\n                    "foodPlaceAddress": "Gulmarg, Jammu and Kashmir, India"\n                },\n                {\n                    "foodPlaceName": "Hotel Hilltop Restaurant",\n                    "approximatePricePerPerson": {\n                        "fromPrice": 7,\n                        "toPrice": 14,\n                        "currencySymbol": "USD"\n                    },\n                    "rating": 3.8,\n                    "description": "The restaurant offers a stunning view of the snow-clad mountains along with a variety of cuisines. Serves vegetarian dishes and is known for its cozy atmosphere.",\n                    "foodPlaceAddress": "Gulmarg, Jammu and Kashmir, India"\n                },\n                 {\n                    "foodPlaceName": "Beans & Buns",\n                    "approximatePricePerPerson": {\n                        "fromPrice": 4,\n                        "toPrice": 8,\n                        "currencySymbol": "USD"\n                    },\n                    "rating": 4.2,\n                    "description": "This place is popular for its fresh pastries and cakes. Serves great options for light snacks.",\n                    "foodPlaceAddress": "Gulmarg, Jammu and Kashmir, India"\n                }\n            ]\n        }\n    ]\n}\n```',
        },
      ],
    },
  ],
});
